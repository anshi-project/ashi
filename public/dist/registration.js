!function(e){function r(t){if(a[t])return a[t].exports;var n=a[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var a={};return r.m=e,r.c=a,r.p="",r(0)}([function(e,r,a){"use strict";a(1),a(2),a(3)},function(e,r){"use strict";$(document).ready(function(){function e(e,a){var t=e.serializeArray(),a=a||"",n=t.reduce(function(e,r){var t=a+r.name;return"division"==r.name?(e[t]=e[t]||[],e[t].push(r.value)):e[t]=r.value,e},{}),o=r();return Object.assign({},n,o)}if(!$("#registration-form").length){var r=function(){var e={passport:{month:$("select[name='contact[passport_expiration]'").val(),day:$("input[name='passport-day']").val(),year:$("input[name='passport-year']").val()},birthday:{month:$("select[name='public_data[date_of_birth]']").val(),day:$("input[name='birthday-day']").val(),year:$("input[name='birthday-year']").val()}},r=function(r){var a=e[r];return a.year+"-"+a.month+"-"+a.day},a={"contact[passport_expiration]":r("passport")};return"/admin/records/player"==location.pathname&&(a["public_data[date_of_birth]"]=r("birthday")),a},a=e($("form"));!function(){var e=window.location.pathname,r=new RegExp("settings","i"),a=$("form").attr("action");r.test(e)&&a.match("manager")&&($("label[for='division']").hide(),$(".record-checkbox").html(""))}(),$(".update-main-records").on("click",function(r){r.preventDefault();var t=$("#records-form"),n=t.attr("action"),o=e(t),i=a.hasOwnProperty("team[name]")?a["team[name]"]:a.division;a["team[name]"]==o["team[name]"]&&a.division==o.division||(n+="&teamUpdate="+i),$.ajax({url:n,type:"PUT",data:o,success:function(e){$("form").hide(),$(".alert-info p").text(e),$(".alert-info").fadeIn("slow")},failure:function(e){toastr.error(e)}})})}})},function(e,r){"use strict";$(function(){function e(e,r,a,t){t?(e.attr("disabled",!0).removeClass("redBorder").parent().css("opacity",".8"),r.attr("disabled",!0).removeClass("redBorder").parent().css("opacity",".8"),a.attr("disabled",!0).removeClass("redBorder").parent().css("opacity",".8"),e.closest(".form-group").find(".empty").remove()):(e.attr("disabled",!1).parent().css("opacity","1"),r.attr("disabled",!1).parent().css("opacity","1"),a.attr("disabled",!1).parent().css("opacity","1"))}function r(e,r){r.addClass("redBorder"),r.closest(".form-group").find(".empty").remove(),r.closest(".form-group").append("<p class='empty'>"+e+"</p>")}$("input[name='contact[passport]']").on("change",function(){var r=$(this).val(),a=$("select[name='contact[passport_exp]']"),t=$("input[name='passport-day']"),n=$("input[name='passport-year']"),o="No"===r;e(a,t,n,o)}),$("input[required='false']").attr("required",!1),$(document).ready(function(){$(".optional").closest(".form-group").children("label").append("<i> (not required)</i>")}),$("input[name='contact[phone1]'], input[name='contact[phone2]']").on("change",function(){var e=$(this).val(),r=e.replace(/[^\d]/g,"");10==r.length&&$(this).val(r.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"))}),$(".submit-registration").on("click",function(e){var a="Please fill out your birthday.",t=$('select[name="public_data[dob]"]'),n=$('input[name="birthday-day"]'),o=$('input[name="birthday-year"]'),i=Number(t.val()),s=Number(n.val()),d=Number(o.val()),c=d+"-"+i+"-"+s;if($('input[name="public_data[date_of_birth]"]').val(c),0===s&&r(a,n),0===i&&r(a,t),0===d&&r(a,o),"Yes"===$('input[name="contact[passport]"]:checked').val()){var u="Please fill out your passport expiration date.",m=$('select[name="contact[passport_exp]"]'),l=$('input[name="passport-day"]'),p=$('input[name="passport-year"]'),h=Number(m.val()),f=Number(l.val()),g=Number(p.val());0===f&&r(u,l),0===h&&r(u,m),0===g&&r(u,p);var v=g+"-"+h+"-"+f;$('input[name="contact[passport_expiration]"]').val(v)}})})},function(e,r){"use strict";function a(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}!function(){function e(e){if(!e.parent().parent().hasClass("birthday")&&0!==v&&0!==f&&0!==g){var a=new Date(v,f-1,g);return a<h?(r(l,e),!0):void 0}}function r(e,r){r.closest(".form-group").find(".empty").remove(),r.closest(".form-group").append("<p class='empty'>"+e+"</p>")}function t(e){if(parseInt(e)%4===0){if(parseInt(e)%100===0){if(parseInt(e)%400!==0)return"false";if(parseInt(e)%400===0)return"true"}if(parseInt(e)%100!==0)return"true"}if(parseInt(e)%4!==0)return"false"}var n,o="Please make a selection.",i="Hmm, that doesn't look right.",s='Enter your full email address, including the "@".',d="This phone number format is not recognized. Please check the number.",c="Hmm, that ZIP code doesn't look right.",u="Choose a number from 00 through 99.",m="Your password should be at least 8 characters long and include an uppercase letter\n                  and a number.",l='Your passport is expired. Please select "no" in the previous question',p="That username is taken, try another.",h=Date.now(),f=0,g=0,v=0,y="/check-username/",b="Please select three different jersey numbers.";$.validator.addMethod("pwcheck",function(e){return/^[A-Za-z0-9\d=!\-@._*]*$/.test(e)&&/[A-Z]/.test(e)&&/\d/.test(e)}),$.validator.addMethod("username-check",function(e){var r=$('input[name="username"]').val();return $.post(y+r,function(e){e.length>0?($('input[name="username"]').addClass("redBorder"),$('input[name="username"]').closest(".form-group").find(".empty").remove(),$('input[name="username"]').closest(".form-group").append("<p class='empty'>"+p+"</p>")):($('input[name="username"]').closest(".form-group").find(".empty").remove(),$('input[name="username"]').removeClass("redBorder"))}),!0}),$.validator.addMethod("jerseyNoCheck",function(e){var r,a,t=this.lastActive.className.slice(-1);if(["1","2","3"].indexOf(t)===-1||""===e)return!0;switch(t){case"1":r="2",a="3";break;case"2":r="1",a="3";break;case"3":r="1",a="2"}var r=$('input[name="hockey_info[jersey_number][choice'+r+']"').val(),a=$('input[name="hockey_info[jersey_number][choice'+a+']"').val();return e!==r&&e!==a&&($('input[name="hockey_info[jersey_number][choice'+t+']"').closest(".form-group").find(".empty").remove(),$('input[name="hockey_info[jersey_number][choice'+t+']"').removeClass("redBorder"),!0)}),$.extend($.validator.messages,{required:"You can't leave this empty."}),$(".day").blur(function(){var a=$(this),n=$(this).val(),o=Number($(this).parent().prev().val()),i=Number($(this).next().val());if(""===n){var s="You can't leave the day empty";return r(s,a),void $(this).addClass("redBorder")}if(g=n=Number(n),!e(a)){if(!Number.isInteger(n)||n<1||n>31||n>29&&2===o||[4,6,9,11].indexOf(o)!==-1&&31===n||2===o&&29===n&&"false"===t(i)){var s="Hmm, the day doesn't look right";return r(s,a),void $(this).addClass("redBorder")}$(this).removeClass("has-danger redBorder"),$(this).closest(".form-group").find(".empty").remove()}}),$(".year").blur(function(){var a=$(this),n=(new Date).getFullYear(),o=Number($(this).prev().val()),i=Number($(this).parent().prev().val()),s=$(this).val();if(""===s){var d="You can't leave the year empty";return r(d,a),void $(this).addClass("redBorder")}if(v=s=Number(s),!e(a)){if(!Number.isInteger(s)||s<1950||s>n-5&&"birthday-year"===a.attr("name")||o>29&&2===i||[4,6,9,11].indexOf(i)!==-1&&31===o||2===i&&29===o&&"false"===t(s)){var d="Hmm, the date doesn't look right";return void r(d,a)}$(this).removeClass("has-danger redBorder"),$(this).closest(".form-group").find(".empty").remove()}}),$(".month").change(function(){var a=$(this),n=Number(a.next().children(".day").val()),o=Number(a.val());if(f=o,!e(a)){var i=Number(a.next().children(".year").val());if(0!==a.val()&&(a.removeClass("has-danger redBorder"),a.closest(".form-group").find(".empty").remove()),n>29&&2===o||[4,6,9,11].indexOf(o)!==-1&&31===n||2===o&&29===n&&"false"===t(i)){var s="Hmm, the day doesn't look right";return a.next().children(".day").addClass("redBorder"),void r(s,a)}}}),$("form").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(e,r){var a="Your form could not be sumitted. Please look at the form item(s) highlighted in red.",t=r.numberOfInvalids();t?($("html, body").animate({scrollTop:0},"fast"),$("p.message-box").html(a),$("p.message-box").css("border-color","#dd4b39")):$("p.message-box").hide()},rules:(n={firstname:{maxlength:40},lastname:{maxlength:40},"public_data[gender]":{required:!0},"public_data[weight]":{number:!0,min:50,max:350},"contact[passport]":{required:!0},"contact[email]":{required:!0,email:!0,maxlength:50},"contact[alt_email]":{email:!0,maxlength:50},"contact[phone1]":{required:!0,phoneUS:!0,maxlength:15},"contact[phone2]":{phoneUS:!0,maxlength:15},"contact[private_data][address][street]":{required:!0,maxlength:50},"contact[private_data][address][city]":{required:!0,maxlength:50},"contact[private_data][address][zipcode]":{required:!0,zipcodeUS:!0,maxlength:10},"background[hometown]":{required:!0,maxlength:50},"contact[private_data][guardian_name]":{required:!0,maxlength:50},"contact[private_data][guardian_number]":{required:!0,phoneUS:!0,maxlength:15},"hockey_info[team]":{required:!0},"team[position]":{required:!0},"team[shooting_hand]":{required:!0},"hockey_info[tournament_team]":{maxlength:50},"hockey_info[league_team]":{maxlength:50},"hockey_info[website]":{url:!0,maxlength:100},"apparel[shirt]":{required:!0},"apparel[polo]":{required:!0},"apparel[jacket]":{required:!0},"apparel[hat]":{required:!0},"apparel[socks]":{required:!0},"apparel[shorts]":{required:!0},"apparel[jersey]":{required:!0},"hockey_info[shooting_hand]":{required:!0},"hockey_info[position]":{required:!0}},a(n,"hockey_info[team]",{required:!0}),a(n,"background[short_answers][preparation]",{required:!0,maxlength:8e3}),a(n,"background[short_answers][coaching_style]",{required:!0,maxlength:8e3}),a(n,"background[short_answers][why_a_good_candidate]",{required:!0,maxlength:8e3}),a(n,"background[short_answers][create_team_atmosphere]",{required:!0,maxlength:4e3}),a(n,"background[career_highlights]",{required:!0,maxlength:4e3}),a(n,"background[hockey_history]",{required:!0,maxlength:4e3}),a(n,"background[former_coaching_positions]",{required:!0}),a(n,"background[team_applying_for]",{required:!0}),a(n,"background[highest_level_coached]",{required:!0}),a(n,"background[preferred_coaching_position]",{required:!0}),a(n,"background[other_sports]",{required:!0,maxlength:4e3}),a(n,"hockey_info[jersey_number][choice1]",{required:!0,number:!0,min:0,max:99,jerseyNoCheck:!0}),a(n,"hockey_info[jersey_number][choice2]",{required:!0,number:!0,min:0,max:99,jerseyNoCheck:!0}),a(n,"hockey_info[jersey_number][choice3]",{required:!0,number:!0,min:0,max:99,jerseyNoCheck:!0}),a(n,"favorite[movie]",{maxlength:50}),a(n,"favorite[tv_show]",{maxlength:50}),a(n,"favorite[sports_team]",{maxlength:50}),a(n,"favorite[athlete]",{maxlength:50}),a(n,"favorite[other_sport]",{maxlength:50}),a(n,"favorite[food_or_restaurant]",{maxlength:50}),a(n,"background[education]",{required:!0,maxlength:50}),a(n,"background[social_media][facebook]",{maxlength:50}),a(n,"background[social_media][twitter]",{maxlength:50}),a(n,"background[social_media][instagram]",{maxlength:50}),a(n,"background[social_media][linkedin]",{maxlength:50}),a(n,"password",{pwcheck:!0,minlength:8}),a(n,"confirm_password",{equalTo:".password",minlength:8}),a(n,"username",{required:!0,maxlength:20,"username-check":!0}),n),messages:{"public_data[gender]":{required:o},"public_data[weight]":{number:i,min:i,max:i},"contact[passport]":{required:o},"contact[email]":{email:s},"contact[alt_email]":{email:s},"contact[phone1]":{phoneUS:d},"contact[phone2]":{phoneUS:d},"contact[private_data][address][zipcode]":{zipcodeUS:c},"contact[private_data][guardian_number]":{phoneUS:d},"apparel[shirt]":{required:o},"apparel[polo]":{required:o},"apparel[jacket]":{required:o},"apparel[hat]":{required:o},"apparel[socks]":{required:o},"apparel[shorts]":{required:o},"apparel[jersey]":{required:o},"hockey_info[shooting_hand]":{required:o},"hockey_info[position]":{required:o},"hockey_info[team]":{required:o},"hockey_info[jersey_number][choice1]":{number:u,min:u,max:u,jerseyNoCheck:b},"hockey_info[jersey_number][choice2]":{number:u,min:u,max:u,jerseyNoCheck:b},"hockey_info[jersey_number][choice3]":{number:u,min:u,max:u,jerseyNoCheck:b},password:{pwcheck:m},username:{"username-check":p}},highlight:function(e,r){$(e).addClass("redBorder")},unhighlight:function(e,r){$(e).closest(".form-group").removeClass("redBorder"),$(e).removeClass("redBorder")},errorPlacement:function(e,r){"radio"==r.attr("type")||"checkbox"==r.attr("type")?r.closest(".form-group").append(e).addClass("redBorder"):e.insertAfter(r)}})}()}]);