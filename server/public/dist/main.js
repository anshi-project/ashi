!function(s){function t(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return s[e].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=s,t.c=a,t.i=function(s){return s},t.d=function(s,t,a){Object.defineProperty(s,t,{configurable:!1,enumerable:!0,get:a})},t.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(a,"a",a),a},t.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},t.p="",t(t.s=32)}([function(s,t,a){"use strict";function e(){toastr.info("Make sure that only players and goalies who are playing have their checkbox\n               (to the left of jersey number) checked",'Use the score card in "Safe mode" (green button on right-hand side) after you have configured it.')}function n(){toastr.warning("Wipe the scorecard clean?<br /><br /><button type='button'\n  class='reset-card btn btn-danger'>Yes</button>")}function l(){toastr.error("Game not stored in database, please try again")}function o(){toastr.success("Game stored in database")}function i(){toastr.error("Set game date and time before submitting scorecard")}function c(){toastr.error("Fill out jersey number and name for all opponent players and goalies")}function r(){toastr.error("Fill out opponent team name")}function p(){toastr.error("Shots Against stat can't be 0")}function d(){toastr.error("select all players and goalies who played")}function u(){toastr.warning("If your browser is in 'private browser mode'\n                  and/or doesn't store browsing history you can't\n                  save games to your local drive")}function m(s){toastr.warning("Delete game on local drive?<br /><br /><button type='button' class='confirm-delete-game btn btn-danger'>Yes</button>"),$(".confirm-delete-game").on("click",function(){(0,b.deleteSavedGame)(s)})}function h(){toastr.warning("the number of minutes a goalie has played should be greater than 0")}Object.defineProperty(t,"__esModule",{value:!0}),t.toasts=void 0;var b=a(5);t.toasts={selectPlayers:e,resetScorecard:n,notStoredInDb:l,storedInDb:o,fillOutBlank:c,setDateTime:i,opponentName:r,shotsAgainst:p,tickBoxes:d,privateBrowserMode:u,confirmDeleteGame:m,goalieMinutes:h}},function(s,t,a){"use strict";function e(s){$(".send-to-server, .delete-game, .edit-scorcard").off(),$(".saved-games").empty();var t=_.template(i.savedGamesTemplate)({savedgames:s});$(".saved-games").html(t),$(".send-to-server").on("click",n.sendToServer),$(".delete-game").on("click",l.deleteGame),$(".edit-scorecard").on("click",o.editScorecard)}Object.defineProperty(t,"__esModule",{value:!0}),t.displaySavedGames=e;var n=a(25),l=a(24),o=a(6),i=a(13)},function(s,t){"use strict";function a(){$(this).parents("tr").toggleClass("playing").toggleClass("not-playing"),$(this).parent("td").siblings("td").children(".minus, .plus").toggleClass("active")}Object.defineProperty(t,"__esModule",{value:!0}),t.checkbox=a},function(s,t){"use strict";function a(){if("minus active"===$(this).attr("class")){var s=Number($(this).next().text())-1;if(s>=0){if($(this).next().text(s),s=Number($(this).siblings(".points").text())-1,$(this).siblings(".points").text(s),$(this).parent().hasClass("goals")||$(this).parent().hasClass("assists"))return s=Number($(this).parent().siblings(".points").text())-1,void $(this).parent().siblings(".points").text(s);if($(this).parent().hasClass("shots-against"))return s=Number($(this).parent().siblings(".goals-against").text())-1,void $(this).parent().siblings(".goals-against").text(s);if($(this).parent().hasClass("saves"))return s=Number($(this).parent().siblings(".goals-against").text())+1,void $(this).parent().siblings(".goals-against").text(s)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.minus=a},function(s,t){"use strict";function a(){var s;if("plus active"===$(this).attr("class"))return s=Number($(this).prev().text())+1,$(this).prev().text(s),$(this).parent().hasClass("goals")||$(this).parent().hasClass("assists")?(s=Number($(this).parent().siblings(".points").text())+1,void $(this).parent().siblings(".points").text(s)):$(this).parent().hasClass("shots-against")?(console.log("effe"),s=Number($(this).parent().siblings(".goals-against").text())+1,void $(this).parent().siblings(".goals-against").text(s)):$(this).parent().hasClass("saves")?(s=Number($(this).parent().siblings(".goals-against").text())-1,void $(this).parent().siblings(".goals-against").text(s)):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.plus=a},function(s,t,a){"use strict";function e(s){localforage.getItem("ashi-data-store",function(t,a){for(var e=0;e<a.length;e++)a[e].team_name===s[0]&&a[e].opponent===s[1]&&a[e].date===s[2]&&a[e].time===s[3]&&(a.splice(e,1),localforage.removeItem("ashi-data-store",function(s){0!==a.length?localforage.setItem("ashi-data-store",a,function(s){(0,n.displaySavedGames)(a)}):$(".saved-games").empty()}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSavedGame=e;var n=a(1)},function(s,t,a){"use strict";function e(){var s=!0,t=$(this).siblings(".game-details").text().split(",");localforage.getItem("ashi-data-store",function(a,e){for(var o=0;o<e.length;o++)if(e[o].team_name===t[0]&&e[o].opponent===t[1]&&e[o].date===t[2]&&e[o].time===t[3]){var i=e[o],c="true"===i.home_game,r=c?"home":"road",p=c?"road":"home";$("#flatpickr").val(i.date+" "+i.time);var d=c?"#home-dropdown":"#road-dropdown",u=c?"#road-dropdown":"#home-dropdown";$("select"+d+" option").filter(function(){return $(this).text()===i.team_name}).prop("selected",!0),$("select"+u+" option").filter(function(){return"blank scorecard"===$(this).text()}).prop("selected",!0),(0,l.teamSelect)(p,i.opponent,s,i,!0),(0,l.teamSelect)(r,i.team_name,s,i,!1),(0,n.deleteSavedGame)(t)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.editScorecard=e;var n=a(5),l=a(7)},function(s,t,a){"use strict";function e(s,t,a,e,r){var p,d,u,m,h,b,v=this;if(a)$("textarea").val(""),$("textarea").val(e.gameNotes),p=$("#home-dropdown").val(),d=$("#road-dropdown").val(),u=r?"blank scorecard":t,m=s,"home"===m?(p=i,i=u):(d=c,c=u),r||(h=s,b="home"===h?"road":"home");else{if(u=this.value,""===u)return;m=$(this).attr("id").replace("-dropdown",""),"home"===m?(p=i,i=u):(d=c,c=u)}if("blank scorecard"===u)return $("."+m+"-team-name").text(m+" team:"),$("."+m+"-name-input").html('<input type="text" maxlength="30" class="team-name-input">'),$("."+m+"-name-input").children().val(t),$("."+m+"-team-name").css({display:"inline-block","margin-left":"13.5em"}),(0,n.displayBlankTeam)(m),void $("#"+m+"-dropdown").css("margin-bottom","-1.15em");$("."+m+"-name-input").empty();var g="home"===m;$(".home-game").text(g),("home"===m&&"blank scorecard"===p||"road"===m&&"blank scorecard"===d)&&$("."+m).css("margin-top","1.6em"),$("."+m+"-name-input").children().hide(),localforage.getItem("teamData",function(s,n){if(a)var i=n.filter(function(s){return s.name===t})[0];else var i=n.filter(function(s){return s.key===$(v).val()})[0];$("."+m+"-team-name").html(m+" team: "+i.name),$(".ashi-team-name").text(i.name);var c=i.players,r=i.goalies;(0,l.displayAshiTeam)(m,i,c,r),a&&((0,o.fillOutScorecard)("."+h+"-playersTable",e.ashi_players),(0,o.fillOutScorecard)("."+h+"-goaliesTable",e.ashi_goalies),(0,o.fillOutScorecard)("."+h+"-team-stats",e.ashi_team),(0,o.fillOutScorecard)("."+b+"-playersTable",e.opponent_players),(0,o.fillOutScorecard)("."+b+"-goaliesTable",e.opponent_goalies),(0,o.fillOutScorecard)("."+b+"-team-stats",e.opponent_team))})}Object.defineProperty(t,"__esModule",{value:!0}),t.teamSelect=e;var n=a(9),l=a(8),o=a(27),i=(a(0),"Select Home team"),c="Select Road team"},function(s,t,a){"use strict";function e(s,t,a,e){var d,u=_.template(c.playersTemplate)({players:a,location:s});$("."+s).html(u);var m=_.template(r.goaliesTemplate)({goalies:e,location:s});for($("."+s).append(m),d=0;d<=60;d++)$(".goalie-min-dropdown").append($("<option></option>").val(d).html(d));var h=_.template(p.teamTemplate)({location:s});$("."+s).append(h),$(".minus, .plus, :checkbox, .goals, .assists").off(),$(".goals, .assists").change(i.updatePlayerPoints),$(".plus").on("click",n.plus),$(".minus").on("click",l.minus),$(":checkbox").change(o.checkbox)}Object.defineProperty(t,"__esModule",{value:!0}),t.displayAshiTeam=e;var n=a(4),l=a(3),o=a(2),i=a(26),c=a(12),r=a(11),p=a(14)},function(s,t,a){"use strict";function e(s){var t,a=_.template(n.blankTemplate)({location:s});for($("."+s).html(a),t=0;t<=60;t++)$(".goalie-opp-min-dropdown").append($("<option></option>").val(t).html(t));$(".minus, .plus, :checkbox").off(),$(".plus").on("click",l.plus),$(".minus").on("click",o.minus),$(":checkbox").change(i.checkbox)}Object.defineProperty(t,"__esModule",{value:!0}),t.displayBlankTeam=e;var n=a(10),l=a(4),o=a(3),i=a(2)},function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.blankTemplate="\n <table class='<%=location%>-playersTable blank-table'>\n  <thead>\n  <tr>\n    <th class='select-player'></th>\n    <th class='player-number-blank'><bold>#</bold></th>\n    <th class='name'><bold>Player</bold></th>\n    <th><bold>G</bold></th>\n    <th><bold>A</bold></th>\n    <th><bold>P</bold></th>\n    <th><bold>+-</bold></th>\n    <th><bold>PIM</bold></th>\n    <th><bold>PPG</bold></th>\n    <th><bold>SHG</bold></th>\n    <th><bold>GWG</bold></th>\n    <th><bold>OTG</bold></th>\n    <th><bold>SOG</bold></th>\n    <th><bold>SOM</bold></th>\n  </tr>\n  </thead>\n  <tbody>\n  <% _.each([0,0,0,0,0,0,0,0,0,0,0], function(player) { %>\n      <tr class='not-playing'>\n        <td class=\"select-player\"><input type=\"checkbox\" class='blank-scorecard'></td>\n        <td class='player-number-blank'><input type='text' class='blank-scorecard blank-number-input' maxlength=\"2\" size=\"2\"></td>\n        <td class='player-name-blank'><input type='text' class='blank-scorecard blank-name-input' maxlength='30'></td>\n        <td class='goals'><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td class='assists'><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td class='points'>0   </td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n        <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      </tr>\n  <% }) %>\n  </tbody>\n  </table>\n  <table class='<%=location%>-goaliesTable blank-table'>\n  <thead>\n  <tr>\n    <th class='select-player'></th>\n    <th class='goalie-number'><bold>#</bold></th>\n    <th class='name goalie-name-blank'><bold>Goal tender</bold></th>\n    <th><bold>MIN</bold></th>\n    <th><bold>SA</bold></th>\n    <th><bold>SV</bold></th>\n    <th><bold>GA</bold></th>\n    <th><bold>SO</bold></th>\n    <th><bold>G</bold></th>\n    <th><bold>A</bold></th>\n    <th><bold>P</bold></th>\n    <th><bold>PIM</bold></th>\n    <th><bold>SOSh</bold></th>\n    <th><bold>SOSa</bold></th>\n  </tr>\n  </thead>\n  <tbody>\n  <% _.each([0,0,0], function(goalie) { %>\n    <tr class='not-playing'>\n      <td class =\"select-player\"><input type=\"checkbox\" class='blank-scorecard'></td>\n      <td class ='player-number-blank'><input type='text' class='blank-scorecard blank-number-input' maxlength=\"2\" size = \"2\"></td>\n      <td><input class='blank-scorecard blank-name-input' type='text' maxlength='30'></td>\n      <td><select class='goalie-opp-min-dropdown minutes'></select></td>\n      <td class='shots-against'><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td class='saves'><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td class='goals-against'>0</td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n      <td><span class='minus'>-</span><span class='num'>0</span><span class='plus'>+</span></td>\n    </tr>\n  <% }) %>\n  </tbody>\n  </table>\n  <div class=\"row\">\n  <div class=\"col-sm-6\">\n  \t<table class=\"<%=location%>-team-stats\">\n      <thead>\n  \t\t\t<tr>\n  \t\t\t\t<th ><div class='team-stats-header-blank'><bold>Team Stats</bold></div></th>\n          <th><bold>1st</bold></th>\n          <th><bold>2nd</bold></th>\n          <th><bold>3rd</bold></th>\n  \t\t\t\t<th><bold>OT</bold></th>\n  \t\t\t\t<th><bold>OT2</bold></th>\n          <th><bold>OT3</bold></th>\n          <th><bold>GF</bold></th>\n          <th><bold>PPG</bold></th>\n          <th><bold>PPO</bold></th>\n  \t\t\t</tr>\n      </thead>\n      <tbody>\n  \t\t\t<tr class='playing'>\n          <td ><div class='team-stats-header-blank'></div></td>\n  \t\t\t\t<td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n  \t\t\t\t<td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n  \t\t\t\t<td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n  \t\t\t</tr>\n      </tbody>\n  \t</table>\n  </div>\n  <div class=\"col-sm-6\"></div>\n  </div>"},function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.goaliesTemplate="\n  <table class='<%=location%>-goaliesTable'>\n    <thead>\n      <tr>\n        <th class='select-player'></th>\n        <th class='goalie-number'><bold>#</bold></th>\n        <th class='name'><bold>Goal tender</bold></th>\n        <th><bold>MIN</bold></th>\n        <th><bold>SA</bold></th>\n        <th><bold>SV</bold></th>\n        <th><bold>GA</bold></th>\n        <th><bold>SO</bold></th>\n        <th><bold>G</bold></th>\n        <th><bold>A</bold></th>\n        <th><bold>P</bold></th>\n        <th><bold>PIM</bold></th>\n        <th><bold>SOSh</bold></th>\n        <th><bold>SOSa</bold></th>\n      </tr>\n    </thead>\n    <tbody>\n    <% _.each(goalies, function(goalie) { %>\n      <tr class=\"playing\">\n        <td class=\"select-player\"><input type=\"checkbox\" checked></td>\n        <td class='goalie-number'><%=goalie.team.jersey_number%></td>\n        <td class='name'><%=goalie.lastname%></td>\n        <td><select class='goalie-min-dropdown minutes'></select></td>\n        <td class='shots-against'><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td class='saves'><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td class='goals-against'>0</td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n      </tr>\n    <% }) %>\n    </tbody>\n  </table>"},function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.playersTemplate="\n  <table class='<%=location%>-playersTable' id='ashi-team'>\n    <thead>\n    <tr>\n      <th class='select-player'></th>\n      <th class='player-number'><bold>#</bold></th>\n      <th class='name'><bold>Player</bold></th>\n      <th><bold>G</bold></th>\n      <th><bold>A</bold></th>\n      <th><bold>P</bold></th>\n      <th><bold>+-</bold></th>\n      <th><bold>PIM</bold></th>\n      <th><bold>PPG</bold></th>\n      <th><bold>SHG</bold></th>\n      <th><bold>GWG</bold></th>\n      <th><bold>OTG</bold></th>\n      <th><bold>SOG</bold></th>\n      <th><bold>SOM</bold></th>\n    </tr>\n    </thead>\n    <tbody>\n    <% _.each(players, function(player) { %>\n        <tr class=\"playing\">\n          <td class=\"select-player\"><input type=\"checkbox\" checked></td>\n          <td class='player-number'><%=player.team.jersey_number%></td>\n          <td class='name'><%=player.lastname%></td>\n          <td class='goals'><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td class='assists'><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td class='points'>0</td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n          <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n        </tr>\n    <% }) %>\n    </tbody>\n  </table>"},function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.savedGamesTemplate="\n    <h2 class='saved-games-header'>Games saved on local drive</h2>\n    <% _.each(savedgames, function(g) { %>\n      <% if (g.home_game === 'true'){ %>\n        <% homeTeam = g.team_name; %>\n        <% roadTeam = g.opponent;%>\n      <% } else { %>\n        <% homeTeam = g.opponent; %>\n        <% roadTeam = g.team_name; %>\n      <% } %>\n        <div class='row saved-game'>\n            <div class='col-sm-3'>\n                <p class='game'><%=homeTeam%> - <%=roadTeam%>&nbsp; &nbsp; <%=g.date%>&nbsp; &nbsp; <%=g.time%></p>\n            </div>\n            <div class='col-sm-9'>\n                <button type='submit' class='edit-scorecard btn btn-sm btn-primary'>Edit</button>\n                <button type='submit' class='send-to-server btn btn-sm btn-primary'>Send to ASHI server</button>\n                <button type='submit' class='delete-game btn btn-sm btn-danger'>Delete from local drive</button>\n                <span class='game-details'><%=g.team_name%>,<%=g.opponent%>,<%=g.date%>,<%=g.time%></span>\n            </div>\n        </div>\n    <% }) %>"},function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.teamTemplate="<div class=\"row\">\n                \t\t\t<div class=\"col-sm-6\">\n                \t\t\t\t<table class=\"<%=location%>-team-stats\">\n                          <thead>\n                  \t\t\t<tr>\n                  \t\t\t    <th ><div class='team-stats-header'><bold>Team Stats</bold></div></th>\n                                <th><bold>1st</bold></th>\n                                <th><bold>2nd</bold></th>\n                                <th><bold>3rd</bold></th>\n                  \t\t\t\t<th><bold>OT</bold></th>\n                  \t\t\t\t<th><bold>OT2</bold></th>\n                  \t\t\t\t<th><bold>OT3</bold></th>\n                                <th><bold>GF</bold></th>\n                                <th><bold>PPG</bold></th>\n                                <th><bold>PPO</bold></th>\n                  \t\t\t</tr>\n                          </thead>\n                          <tbody>\n                  \t\t\t<tr class='playing'>\n                              <td ><div class='team-stats-header'></div></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                  \t\t\t  <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                  \t\t\t  <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                  \t\t\t  <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                              <td><span class='minus active'>-</span><span class='num'>0</span><span class='plus active'>+</span></td>\n                  \t\t\t</tr>\n                          </tbody>\n                \t\t\t\t</table>\n                \t\t\t</div>\n                \t\t\t<div class=\"col-sm-6\"></div>\n                \t\t</div>"},function(s,t,a){"use strict";function e(){var s,t,a,e,c,r,p,d,u,m,h=$(".ashi-team-name").text(),b=$(".home-game").text(),v=!1,g=$(".team-name-input").val();if(""===$("#flatpickr").val())return i.toasts.setDateTime(),"error";s=$("#flatpickr").val().split(" ")[0],t=s.substr(0,4);var f=$("#flatpickr").val().split(" ")[1];if(""===$(".team-name-input").val())return i.toasts.opponentName(),"error";var y=[".home-playersTable",".home-goaliesTable",".home-team-stats"].map(n.getStats),_=[".road-playersTable",".road-goaliesTable",".road-team-stats"].map(n.getStats);if(y.map(function(s){"incomplete"===s[0]&&(v=!0)}),_.map(function(s){"incomplete"===s[0]&&(v=!0)}),v)return i.toasts.fillOutBlank(),"error";if("true"===b?(a=y[0],e=y[1],c=y[2],r=_[0],p=_[1],d=_[2]):(r=y[0],p=y[1],d=y[2],a=_[0],e=_[1],c=_[2]),c[7]>d[7]&&(u="win",m="loss"),c[7]===d[7]&&(u=m="tie"),c[7]<d[7]&&(u="loss",m="win"),0===e[3]||0===p[3])return i.toasts.goalieMinutes(),"error";var P=d[9]>0?(d[9]-d[8])/d[9]:-999,S=c[9]>0?(c[9]-c[8])/c[9]:-999,k=c[9]>0?c[8]/c[9]:-999,O=d[9]>0?d[8]/d[9]:-999,x=(0,l.getPlayerStats)(a,g,b,u,s,t,h),G=(0,o.getGoalieStats)(e,g,b,u,s,t,h),T={P1_goals:c[1],P2_goals:c[2],P3_goals:c[3],OT:c[4],OT2:c[5],OT3:c[6],GF:c[7],GA:d[7],PPG:c[8],PPO:c[9],PKP:P,result:u,date:s,home_game:b,opponent:g,season:t,team_name:h,PPP:k,stats_for_editing:[c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]]},M=(0,l.getPlayerStats)(r,h,!b,m,s,t,h),w=(0,o.getGoalieStats)(p,h,!b,m,s,t,h),j={P1_goals:d[1],P2_goals:d[2],P3_goals:d[3],OT:d[4],OT2:d[5],OT3:d[6],GF:d[7],GA:c[7],PPG:d[8],PPO:d[9],PKP:S,PPP:O,result:m,date:s,home_game:!b,opponent:h,season:t,stats_for_editing:[d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9]]},I={team_name:h,home_game:b,opponent:g,date:s,time:f,ashi_players:x,ashi_goalies:G,ashi_team:T,opponent_players:M,opponent_goalies:w,opponent_team:j,season:t};return localforage.getItem("ashi-game-notes",function(s,t){I.gameNotes=t}),localforage.removeItem("ashi-game-notes",function(s){console.log(s)}),0===x.length||0===G.length||0===M.length||0===w.length?(i.toasts.tickBoxes(),"error"):I}Object.defineProperty(t,"__esModule",{value:!0}),t.collectGameStats=e;var n=a(30),l=a(29),o=a(28),i=a(0)},function(s,t,a){"use strict";function e(s,t){return s?void n.toasts.privateBrowserMode():void(null!==t&&(0,l.displaySavedGames)(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalSavedGames=e;var n=a(0),l=a(1)},function(s,t){"use strict";function a(s){localforage.removeItem("teamData"),localforage.setItem("teamData",s,function(s){console.log(s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayers=a},function(s,t){"use strict";function a(){"Safe mode"===$(this).text()?($(".controls").hide(),$(this).text("Leave safe mode"),$(this).css("background-color","red")):($(".controls").show(),$(this).text("Safe mode"),$(this).css("background-color","green"))}Object.defineProperty(t,"__esModule",{value:!0}),t.lockUnlockCard=a},function(s,t,a){"use strict";function e(){$(".reset-card").off(),n.toasts.resetScorecard(),$(".reset-card").on("click",function(){toastr.remove(),$("#flatpickr").val("").attr("placeholder","Set game date and time"),$("#home-dropdown").val("").attr("placeholder","Select Home team"),$("#road-dropdown").val("").attr("placeholder","Select Road team"),$(".home-team-name, .road-team-name, .home-name-input, .road-name-input, .home, .road").empty(),$("textarea").val("")})}Object.defineProperty(t,"__esModule",{value:!0}),t.resetScorecard=e;var n=a(0)},function(s,t){"use strict";function a(){localforage.removeItem("ashi-game-notes"),localforage.setItem("ashi-game-notes",$("textarea").val(),function(s){console.log(s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.saveNotes=a},function(s,t,a){"use strict";function e(){var s,t=(0,l.collectGameStats)();"error"!==t&&localforage.getItem("ashi-data-store",function(a,e){if(s=e,null===e)return localforage.setItem("ashi-data-store",[t],function(s){console.log(s)}),void(0,n.displaySavedGames)([t]);for(var l=0;l<e.length;l++)if(_.isEqual(e[l],t))return;s.push(t),localforage.removeItem("ashi-data-store",function(s){console.log(s)}),localforage.setItem("ashi-data-store",s,function(s){console.log(s)}),(0,n.displaySavedGames)(s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.saveToLocalDisk=e;var n=a(1),l=a(15)},function(s,t,a){"use strict";function e(){var s=(0,l.collectGameStats)();"error"!==s&&$.post("http://127.0.0.1:3000/scorecard",{stats:s},function(s){"Game not stored"===s&&n.toasts.notStoredInDb(),"Game stored"===s&&n.toasts.storedInDb()})}Object.defineProperty(t,"__esModule",{value:!0}),t.submitScorecard=e;var n=a(0),l=a(15)},function(s,t){"use strict";function a(s,t,a){return t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function e(){var s;toastr.options=(s={preventDuplicates:!0,closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-full-width"},a(s,"preventDuplicates",!1),a(s,"onclick",null),a(s,"showDuration","300"),a(s,"hideDuration","1000"),a(s,"timeOut","9999999999"),a(s,"extendedTimeOut","9999999999"),a(s,"showEasing","swing"),a(s,"hideEasing","linear"),a(s,"showMethod","fadeIn"),a(s,"hideMethod","fadeOut"),s)}Object.defineProperty(t,"__esModule",{value:!0}),t.toastrSetOptions=e},function(s,t,a){"use strict";function e(){$(".confirm-delete-game").off();var s=$(this).siblings(".game-details").text().split(",");n.toasts.confirmDeleteGame(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteGame=e;var n=a(0)},function(s,t,a){"use strict";function e(){console.log("effe");var s=$(this).siblings("span").text().split(",");console.log(s),(0,n.sendSavedGame)(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.sendToServer=e;var n=a(31)},function(s,t){"use strict";function a(){console.log("update player points")}Object.defineProperty(t,"__esModule",{value:!0}),t.updatePlayerPoints=a},function(s,t){"use strict";function a(s,t){$(s).find("> tbody tr").each(function(){var a,e,n=[];0!==t.length&&(".home-team-stats"!==s&&".road-team-stats"!==s||(n=t.stats_for_editing),a=$(this).find("td"),$.each(a,function(a){var l=this;return 1!==a||".home-team-stats"===s||".road-team-stats"===s||$(s).hasClass("blank-table")?1===a&&$(s).hasClass("blank-table")?($(this).children().val(t[0].jersey_number),$(this).prev().children().prop("checked",!0),$(this).parents("tr").toggleClass("playing").toggleClass("not-playing"),void $(this).siblings("td").children(".minus, .plus").toggleClass("active")):2===a&&$(s).hasClass("blank-table")?($(this).children().val(t[0].name),n=t[0].stats_for_editing,void t.shift()):1!==a&&2!==a||".home-team-stats"!==s&&".road-team-stats"!==s?3===a&&n.length>0&&(".home-goaliesTable"===s||".road-goaliesTable"===s)?($(this).children().val(n[0]),void n.shift()):a>2&&n.length>0?($(this).children(".num").text(n[0]),void n.shift()):void 0:($(this).children(".num").text(n[0]),void n.shift()):(e=$(this).text(),void t.map(function(s){s.jersey_number===e&&(n=s.stats_for_editing,$(l).prev().children().prop("checked",!0),$(l).parents("tr").toggleClass("playing").toggleClass("not-playing"),$(l).siblings("td").children(".minus, .plus").toggleClass("active"))}))}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.fillOutScorecard=a},function(s,t){"use strict";function a(s,t,a,e,n,l,o){for(var i=[];s.length>0;){var c={jersey_number:String(s[1]),name:s[2],MIN:s[3],SA:s[4],SV:s[5],GA:s[6],SO:s[7],G:s[8],A:s[9],P:s[10],PIM:s[11],SOSh:s[12],SOSa:s[13],result:e,opponent:t,date:n,season:l,home_game:a,team_name:o,stats_for_editing:[s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13]]};i.push(c),s=s.slice(14)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getGoalieStats=a},function(s,t){"use strict";function a(s,t,a,e,n,l,o){for(var i=[];s.length>0;){var c={jersey_number:String(s[1]),name:s[2],G:s[3],A:s[4],P:s[5],PM:s[6],PIM:s[7],PPG:s[8],SHG:s[9],GWG:s[10],OTG:s[11],SOG:s[12],SOM:s[13],result:e,opponent:t,date:n,season:l,home_game:a,team_name:o,stats_for_editing:[s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13]]};i.push(c),s=s.slice(14)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayerStats=a},function(s,t){"use strict";function a(s){var t,a=!1,e=[];return $(s).find("> tbody tr.playing").each(function(){var n;t=$(this).find("td"),$.each(t,function(t){return 3!==t||".home-goaliesTable"!==s&&".road-goaliesTable"!==s?1!==t&&2!==t||!$(s).hasClass("blank-table")?(n=$(this).text(),1!==t&&2!==t||".home-team-stats"===s||".road-team-stats"===s?".home-team-stats"===s||".road-team-stats"===s?(n=t>0?+n.replace(/[-+]/g,""):n,void e.push(n)):(n=t>2?+n.replace(/[-+]/g,""):n,void e.push(n)):void e.push(n)):(n=$(this).children().val(),e.push(n),void(""===n&&(a=!0))):(n=$(this).children().val(),void e.push(parseInt(n,10)))})}),a?["incomplete"]:e}Object.defineProperty(t,"__esModule",{value:!0
}),t.getStats=a},function(s,t,a){"use strict";function e(s){localforage.getItem("ashi-data-store",function(t,a){for(var e=0;e<a.length;e++)a[e].team_name===s[0]&&a[e].opponent===s[1]&&a[e].date===s[2]&&a[e].time===s[3]&&$.post("http://127.0.0.1:3000/scorecard",{stats:a[e]},function(t){"Game not stored"===t&&l.toasts.notStoredInDb(),"Game stored"===t&&(l.toasts.storedInDb(),(0,n.deleteSavedGame)(s))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendSavedGame=e;var n=a(5),l=a(0)},function(s,t,a){"use strict";var e=(a(10),a(11),a(12),a(14),a(8),a(13),a(4),a(3),a(2),a(9),a(1),a(21)),n=a(16),l=a(23),o=a(17),i=a(19),c=a(22),r=a(20),p=a(18),d=a(7),u=a(0),m=a(6);flatpickr("#flatpickr",{enableTime:!0,allowInput:!0}),$("#road-dropdown, #home-dropdown").on("change",d.teamSelect),$(".save-notes").on("click",r.saveNotes),$(".submit-scorecard").on("click",c.submitScorecard),$(".save-to-local-disk").on("click",e.saveToLocalDisk),$(".lock-unlock-scorecard").on("click",p.lockUnlockCard),$(".reset-scorecard").on("click",i.resetScorecard),$(".edit-scorecard").on("click",m.editScorecard),$.get("/players",o.getPlayers),localforage.getItem("ashi-data-store",n.getLocalSavedGames),(0,l.toastrSetOptions)(),u.toasts.selectPlayers(),toastr.options.positionClass="toast-top-center",window.addEventListener("beforeunload",function(s){var t="o/";return(s||window.event).returnValue=t,t})}]);